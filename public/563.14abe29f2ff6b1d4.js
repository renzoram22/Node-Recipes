"use strict";(self.webpackChunkrecipe_book_shopping_list_app=self.webpackChunkrecipe_book_shopping_list_app||[]).push([[563],{563:(_,u,i)=>{i.r(u),i.d(u,{AuthModule:()=>M});var c=i(6895),s=i(433),d=i(1196),m=i(4466),g=i(9751),t=i(8256),h=i(5599),f=i(8549),v=i(2152);function A(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"app-alert",7),t.NdJ("close",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.onHandlerError())}),t.qZA()}if(2&n){const o=t.oxw();t.Q6J("message",o.error)}}function Z(n,l){1&n&&(t.TgZ(0,"div",8),t._UZ(1,"app-loading-spinner"),t.qZA())}function b(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"form",9,10),t.NdJ("ngSubmit",function(){t.CHM(o);const r=t.MAs(1),a=t.oxw();return t.KtG(a.onSubmit(r))}),t.TgZ(2,"div",11)(3,"label",12),t._uU(4,"E-Mail"),t.qZA(),t._UZ(5,"input",13),t.qZA(),t.TgZ(6,"div",11)(7,"label",14),t._uU(8,"Password"),t.qZA(),t._UZ(9,"input",15),t.qZA(),t.TgZ(10,"div")(11,"button",16),t._uU(12),t.qZA(),t._uU(13," | "),t.TgZ(14,"button",17),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.onSwitchMode())}),t._uU(15),t.qZA()()()}if(2&n){const o=t.MAs(1),e=t.oxw();t.xp6(11),t.Q6J("disabled",!o.valid),t.xp6(1),t.Oqu(e.isLoginMode?"Login":"Sign Up"),t.xp6(3),t.hij("Switch to ",e.isLoginMode?"Sign Up":"Login","")}}let x=(()=>{class n{constructor(o,e){this.authService=o,this.router=e,this.title="Welcome to the recipe book",this.isLoginMode=!0,this.isLoading=!1,this.error=null}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(o){if(!o.valid)return;const e=o.value.email,r=o.value.password;let a=new g.y;this.isLoading=!0,a=this.isLoginMode?this.authService.login(e,r):this.authService.signUp(e,r),a.subscribe(p=>{console.log(p),this.isLoading=!1,this.router.navigate(["/recipes"])},p=>{console.log(p),this.error=p,this.isLoading=!1}),o.reset()}onHandlerError(){this.error=null}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.e),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth"]],decls:8,vars:4,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[1,"text-center","title"],[3,"message","close",4,"ngIf"],[1,"panel","p-t-8","p-b-8","p-l-8","p-r-8"],["style","text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"message","close"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3),t.qZA(),t.YNc(4,A,1,1,"app-alert",3),t.TgZ(5,"div",4),t.YNc(6,Z,2,0,"div",5),t.YNc(7,b,16,3,"form",6),t.qZA()()()),2&o&&(t.xp6(3),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e.error),t.xp6(2),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading))},dependencies:[c.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.on,s.On,s.F,f.w,v.g],encapsulation:2}),n})(),M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,s.u5,m.m,d.Bz.forChild([{path:"",component:x}])]}),n})()}}]);